{% extends '@App/base.html.twig' %}

{% block body %}
    {{ form_start(form) }}
    <div class="container">
        <div class="row valign-wrapper">
            <div class="col s6">
                <h2>{{ person.givenName ~ ' ' ~ person.familyName }}</h2>
            </div>
            <div class="col s6 valign right-align">
                {% if person.id == app.user.person.id %}
                <a href="{{ path('profile_show') }}" class="btn waves-effect waves-light red">Abbrechen</a>&nbsp;
                {% else %}
                <a href="{{ path('profile_show', {person: person.id}) }}" class="btn waves-effect waves-light red">Abbrechen</a>&nbsp;
                {% endif %}
                <button type="submit" class="btn waves-effect waves-light">Speichern</button>
            </div>
        </div>
        <div class="row">
            <div class="col s9">
                <div class="card">
                    <div class="card-content">
                        <span class="card-title">Persondaten</span>
                        {{ form(form) }}
                    </div>
                </div>
            </div>
            <div class="col s3">
                <div class="card">
                    <div class="card-content center-align">
                        <img class="circle responsive-img" src="https://placehold.it/350" />
                        <br /><br />
                        <button data-target="modal1" class="btn waves-effect waves-light grey">Ändern</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Structure -->
    <div id="modal1" class="modal">
        <div class="modal-content">
            <h4>Profilbild ändern</h4>
            {% include('@App/Profile/edit_profilepic.html.twig') %}
        </div>
        <div class="modal-footer">
            <a href="#!" class="btn modal-action modal-close waves-effect waves-light green">Speichern</a>&nbsp;
            <a href="#!" class="btn modal-action modal-close waves-effect waves-light red">Abbrechen</a>&nbsp;
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
<script type="text/javascript">
    $(document).ready(function() {
        $('select').material_select();
        $('.modal').modal();
    });
</script>
{% endblock %}
